# -*- Mode: Python -*-
import sys, os
sys.path.append(os.path.abspath("../vancouver/tools/"))


# Files are resolved by searching the repositories in the order they
# are declared. The first match wins. Order repositories from most to
# least specific!
Repository('../demo')
Repository('../vancouver')

# We pull the top-level SCons logic from the first repository that has
# a SConscript file in its root directory.
SConscript('SConscript')

# Installation flags

tftp_dir = ARGUMENTS.get('tftp', '')
if tftp_dir:
    Install(tftp_dir + '/nul/', Glob('bin/apps/hypervisor'))
    Install(tftp_dir + '/nul/', Glob('bin/apps/*.nul.gz'))
    Install(tftp_dir + '/nul/', Glob('bin/apps/*.nul'))
    Install(tftp_dir + '/tools/', Glob('bin/boot/*'))
    Alias('install', tftp_dir)

# EOF
